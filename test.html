BEGIN
        FOR rec IN (SELECT *
                    from dba_dependencies
                    WHERE REFERENCED_NAME=ref_name
                        and referenced_owner=p_owner
                        and owner in ('FCCBA', 'FCCUCB', 'FCCBLAMADP', 'FCCADPRO', 'FCCADP', 'FCC2BRSINADP')
                        and not (REFERENCED_NAME = name and referenced_owner = owner and REFERENCED_TYPE = type)
                        ) loop
            v_row_dependency := null;
            declare
                is_in boolean := false;
            begin
                IF dependency_arr.count > 0 then
                    FOR i in dependency_arr.FIRST..dependency_arr.LAST LOOP
                        IF dependency_arr(i).owner = rec.owner
                            and dependency_arr(i).name = rec.name
                            and dependency_arr(i).type = rec.type
                            and dependency_arr(i).referenced_owner = rec.referenced_owner
                            and dependency_arr(i).referenced_name = rec.referenced_name
                            and dependency_arr(i).referenced_type = rec.referenced_type
                         then
                            is_in := true;
                        end IF;
                    END LOOP;
                    IF is_in = true then
                        continue;
                    end if;
                end IF;

                v_row_dependency.owner := rec.owner;
                v_row_dependency.name := rec.name;
                v_row_dependency.type := rec.type;
                v_row_dependency.referenced_owner := rec.referenced_owner;
                v_row_dependency.referenced_name := rec.referenced_name;
                v_row_dependency.referenced_type := rec.referenced_type;
                v_row_dependency.dependency_type := rec.dependency_type;

                dependency_arr(dependency_arr.count+1) := v_row_dependency;
            exception
                when others then
                    null;
                    dbms_output.put_line('Ошибка');
            end;

            get_reference_objects_3(rec.owner, rec.name, dependency_arr);

        end loop;
    EXCEPTION
        WHEN others then
            dbms_output.put_line('TEXT: '|| SQLERRM);
            dbms_output.put_line('ERROR HAPPENED in get_reference_object');
    END get_reference_objects_3;
