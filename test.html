function fn_adapters_reboot_needed_2(p_owner varchar2, p_object_name varchar2) return varchar2
    AS
        v_object_name varchar2(50);
    BEGIN
        IF p_owner IN ('FCCBLAMADP', 'FCCADPRO', 'FCCADP', 'FCC2BRSINADP') then
            return p_owner||'.'||p_object_name;
        end if;
        begin
            select distinct object_name
            into v_object_name
            from dba_objects
            where owner = p_owner
            and object_name = p_object_name;
        exception
            when no_data_found then
                -- raise_application_error(-20101, SQLERRM);
                null;
                dbms_output.put_line('TEXT: '|| SQLERRM);
                dbms_output.put_line('ERROR HAPPENED in fn_adapters_reboot_needed_2');
                dbms_output.put_line('TEXT: '|| SQLERRM);
        end;

        declare
            v_res varchar2(4000);
        begin
            select d_path
            into v_res
            from (select level, d.*, p_owner||'.'||p_object_name||SYS_CONNECT_BY_PATH (owner||'.'||name, '<--') d_path
                  from  table(CHECK_RESTART_ADAPTERS.fn_references_tab(p_owner, p_object_name)) d
                  connect by prior name = referenced_name and prior owner = referenced_owner
                  start with referenced_name = p_object_name and referenced_owner = p_owner)
                  where owner in ('FCCBLAMADP', 'FCCADPRO', 'FCCADP', 'FCC2BRSINADP') and TYPE in ( 'PACKAGE BODY', 'PACKAGE', 'SYNONYM' ) and rownum = 1;
            return v_res;
        exception
            when no_data_found then
                dbms_output.put_line('TEXT: '|| SQLERRM);
                dbms_output.put_line('ERROR HAPPENED in get_reference_object err_2');
                return null;
        end;
    END;
