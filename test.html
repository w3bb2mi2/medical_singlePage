
    PROCEDURE get_reference_objects (ref_name varchar2, dependency_arr IN OUT dependency_arr_type) as
    BEGIN
        FOR rec IN (SELECT *
                    from dba_dependencies
                    WHERE REFERENCED_NAME=ref_name
                        and owner in ('FCCBA', 'FCCUCB', 'FCCBLAMADP', 'FCCADPRO')
                        and (REFERENCED_NAME != name and referenced_owner != owner)) loop
            dependency_arr(dependency_arr.count+1) := rec;
            get_reference_objects (rec.name, dependency_arr);
        end loop;
    EXCEPTION
        WHEN others then
            dbms_output.put_line('TEXT: '|| SQLERRM);
            dbms_output.put_line('ERROR HAPPENED in get_reference_object');
    END;
чем эта функция отличается от этой:
PROCEDURE get_reference_objects (ref_name varchar2, dependency_arr IN OUT dependency_arr_type) as
    BEGIN
        FOR rec IN (SELECT *
                    from dba_dependencies
                    WHERE REFERENCED_NAME=ref_name
                        and owner in ('FCCBA', 'FCCUCB', 'FCCBLAMADP', 'FCCADPRO')
                        and REFERENCED_NAME != name and referenced_owner != owner) loop
            dependency_arr(dependency_arr.count+1) := rec;
            get_reference_objects (rec.name, dependency_arr);
        end loop;
    EXCEPTION
        WHEN others then
            dbms_output.put_line('TEXT: '|| SQLERRM);
            dbms_output.put_line('ERROR HAPPENED in get_reference_object');
    END;
